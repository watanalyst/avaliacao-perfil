import{D as y,q as p,u as x,g as n,d as e,t as i,b as o,k as u,n as k,o as l}from"./app-BFVYraDF.js";const h={class:"mt-6 space-y-4"},_={class:"mt-2 flex items-center gap-4"},C=["src"],w={key:1,class:"flex h-full w-full items-center justify-center bg-brand-100 text-xl font-bold text-brand-700"},F={class:"flex flex-col items-start gap-1"},A=["disabled"],j={key:0,class:"mt-1 text-sm text-red-600"},P={key:1,class:"mt-1 text-sm text-gray-500"},R={class:"mt-1 text-base text-gray-900"},B={class:"mt-1 text-base text-gray-900"},D={__name:"UpdateProfileInformationForm",setup(S){const s=y().props.auth.user,c=p(null),d=p(s.foto_url),r=x({foto:null}),f=x({});function g(a){return a?a.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):""}function m(){c.value.click()}function v(a){const t=a.target.files[0];t&&(r.foto=t,d.value=URL.createObjectURL(t),r.post(route("profile.updateFoto"),{preserveScroll:!0,errorBag:"updateFoto",forceFormData:!0,onSuccess:()=>{r.reset()}}))}function b(){f.delete(route("profile.destroyFoto"),{preserveScroll:!0,onSuccess:()=>{d.value=null}})}return(a,t)=>(l(),n("section",null,[t[6]||(t[6]=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"}," Informações do Perfil "),e("p",{class:"mt-1 text-sm text-gray-600"}," Dados do seu cadastro gerenciados pelo RH. ")],-1)),e("div",h,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Foto",-1)),e("div",_,[e("div",{class:"relative h-16 w-16 flex-shrink-0 cursor-pointer overflow-hidden rounded-full ring-2 ring-gray-200 hover:ring-brand-400 transition",onClick:m,title:"Alterar foto"},[d.value?(l(),n("img",{key:0,src:d.value,alt:"Foto de perfil",class:"h-full w-full object-cover"},null,8,C)):(l(),n("div",w,i(o(s).name?.charAt(0)?.toUpperCase()),1)),t[0]||(t[0]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 hover:opacity-100 transition"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z"})])],-1))]),e("div",F,[e("button",{type:"button",onClick:m,class:"text-sm font-medium text-brand-600 hover:text-brand-700 transition text-left"}," Alterar foto "),o(s).foto_url?(l(),n("button",{key:0,type:"button",onClick:b,class:"text-sm font-medium text-red-500 hover:text-red-600 transition",disabled:o(f).processing}," Remover ",8,A)):u("",!0),t[1]||(t[1]=e("p",{class:"text-xs text-gray-400"},"JPG, PNG ou WebP. Máx 2 MB.",-1))]),e("input",{ref_key:"fileInput",ref:c,type:"file",accept:"image/jpeg,image/png,image/webp",class:"hidden",onChange:v},null,544)]),o(r).errors.foto?(l(),n("div",j,i(o(r).errors.foto),1)):u("",!0),o(r).processing?(l(),n("div",P,"Enviando...")):u("",!0)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Nome",-1)),e("p",R,i(g(o(s).name)),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-500"},"E-mail",-1)),e("p",B,i(o(s).email),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-500"},"Perfil",-1)),e("span",{class:k(["mt-1 inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold",o(s).role==="RH"?"bg-brand-50 text-brand-700 ring-1 ring-brand-600/20":"bg-green-50 text-green-700 ring-1 ring-green-600/20"])},i(o(s).role==="RH"?"Avaliador / Admin":"Avaliador"),3)])])]))}};export{D as default};
