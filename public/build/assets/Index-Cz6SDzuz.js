import{q as h,B as C,g as r,a as p,b as u,h as S,w,d as e,i as B,y as D,l as k,f as b,o as a,n as c,t as l,k as g,F as x,r as _,C as A,c as M}from"./app-BFVYraDF.js";import{_ as L}from"./AuthenticatedLayout-slXQefgB.js";const R={class:"py-8"},F={class:"mx-auto px-4 sm:px-6 lg:px-8"},I={class:"overflow-hidden rounded-2xl bg-white shadow-lg ring-1 ring-gray-900/5"},O={class:"p-6"},U={class:"mb-6 flex items-center gap-4"},V={class:"relative flex-1 max-w-sm ml-auto"},j={key:0,class:"mb-4 flex items-center gap-2"},H={class:"overflow-x-auto"},Z={class:"min-w-full text-sm"},E=["onClick"],$={class:"px-4 py-3 font-medium text-gray-900"},q={class:"px-4 py-3 text-gray-700"},z={class:"px-4 py-3 text-gray-500"},G={class:"px-4 py-3 text-gray-700"},J={class:"px-4 py-3"},K={class:"flex items-center gap-1.5"},P={key:0,class:"inline-flex items-center gap-1 rounded-full bg-yellow-50 px-2 py-0.5 text-xs font-semibold text-yellow-700 ring-1 ring-yellow-600/20"},Q={key:0},W={colspan:"5",class:"px-4 py-12 text-center text-gray-400"},X={key:1,class:"mt-5 flex flex-wrap gap-2"},Y=["innerHTML"],se={__name:"Index",props:{avaliacoes:Object,filters:Object},setup(n){const m=n,d=h(m.filters?.busca??""),o=h(m.filters?.status??"");let v=null;function f(){clearTimeout(v),v=setTimeout(()=>{A.get(route("avaliacoes.index"),{busca:d.value||void 0,status:o.value||void 0},{preserveState:!0,replace:!0})},300)}C(d,f);function N(){o.value="",f()}function T(i){if(!i)return"";const s=new Date(i);return Number.isNaN(s.getTime())?String(i):s.toLocaleDateString("pt-BR")}return(i,s)=>(a(),r(x,null,[p(u(S),{title:"Avaliações"}),p(L,null,{default:w(()=>[e("div",R,[e("div",F,[e("div",I,[s[8]||(s[8]=e("div",{class:"h-1.5 bg-gradient-to-r from-brand-600 via-brand-500 to-brand-700"},null,-1)),e("div",O,[e("div",U,[s[3]||(s[3]=e("h2",{class:"text-xl font-bold text-gray-900 shrink-0"},"Avaliações",-1)),e("div",V,[s[1]||(s[1]=e("svg",{class:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1)),B(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),type:"text",placeholder:"Buscar por matrícula ou nome...",class:"w-full rounded-lg border border-gray-300 py-2 pl-9 pr-3 text-sm text-gray-900 placeholder-gray-400 uppercase focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition"},null,512),[[D,d.value]])]),p(u(k),{href:i.route("avaliacoes.create"),class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-700 transition shrink-0"},{default:w(()=>[...s[2]||(s[2]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),b(" Nova avaliação ",-1)])]),_:1},8,["href"])]),o.value?(a(),r("div",j,[s[5]||(s[5]=e("span",{class:"text-sm text-gray-500"},"Filtro:",-1)),e("span",{class:c(["inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold",{"bg-amber-50 text-amber-700 ring-1 ring-amber-600/20":o.value==="RASCUNHO","bg-green-50 text-green-700 ring-1 ring-green-600/20":o.value==="FINALIZADA","bg-yellow-50 text-yellow-700 ring-1 ring-yellow-600/20":o.value==="RENOVAR"}])},[b(l(o.value==="RENOVAR"?"A Renovar":o.value)+" ",1),e("button",{onClick:N,class:"ml-0.5 rounded-full p-0.5 hover:bg-black/10 transition"},[...s[4]||(s[4]=[e("svg",{class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)])])],2)])):g("",!0),e("div",H,[e("table",Z,[s[7]||(s[7]=e("thead",null,[e("tr",{class:"border-b border-gray-100 bg-gray-50/80 text-left"},[e("th",{class:"px-4 py-3 font-semibold text-gray-600"},"Matrícula"),e("th",{class:"px-4 py-3 font-semibold text-gray-600"},"Colaborador"),e("th",{class:"px-4 py-3 font-semibold text-gray-600"},"Data"),e("th",{class:"px-4 py-3 font-semibold text-gray-600"},"Avaliador"),e("th",{class:"px-4 py-3 font-semibold text-gray-600"},"Status")])],-1)),e("tbody",null,[(a(!0),r(x,null,_(n.avaliacoes.data,t=>(a(),r("tr",{key:t.ID??t.id,class:c(["border-b border-gray-50 last:border-0 transition-colors cursor-pointer",(t.STATUS??t.status)==="RASCUNHO"?"bg-amber-50/40 hover:bg-amber-50/70":"hover:bg-gray-50/50"]),onClick:y=>u(A).visit(i.route("avaliacoes.show",t.ID??t.id))},[e("td",$,l(t.NUMCAD??t.numcad),1),e("td",q,l(t.NOMFUN??t.nomfun),1),e("td",z,l(T(t.DATA_AVALIACAO??t.data_avaliacao)),1),e("td",G,l(t.avaliador_nome??"—"),1),e("td",J,[e("div",K,[e("span",{class:c(["inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold",(t.STATUS??t.status)==="FINALIZADA"?"bg-green-50 text-green-700 ring-1 ring-green-600/20":"bg-amber-50 text-amber-700 ring-1 ring-amber-600/20"])},l(t.STATUS??t.status),3),t.vencida?(a(),r("span",P,[...s[6]||(s[6]=[e("svg",{class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),b(" Renovar ",-1)])])):g("",!0)])])],10,E))),128)),!n.avaliacoes.data||n.avaliacoes.data.length===0?(a(),r("tr",Q,[e("td",W,l(d.value?"Nenhuma avaliação encontrada para a busca.":"Nenhuma avaliação cadastrada."),1)])):g("",!0)])])]),n.avaliacoes.links?(a(),r("div",X,[(a(!0),r(x,null,_(n.avaliacoes.links,(t,y)=>(a(),r(x,{key:y},[t.url?(a(),M(u(k),{key:0,href:t.url,class:c(["rounded-lg border px-3 py-1.5 text-sm font-medium transition",t.active?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:"rounded-lg border border-gray-200 px-3 py-1.5 text-sm text-gray-300",innerHTML:t.label},null,8,Y))],64))),128))])):g("",!0)])])])])]),_:1})],64))}};export{se as default};
