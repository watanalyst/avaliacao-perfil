import{g as i,a as E,b as v,h as q,w as p,d as t,t as l,n as O,o as n,c as h,l as A,f,k as c,F as m,r as b,i as I,z as _,j as g,q as T,C as J,D as Q}from"./app-BFVYraDF.js";import{_ as W}from"./AuthenticatedLayout-slXQefgB.js";import{_ as Y}from"./ConfirmModal-DEhVAcqK.js";import"./Modal-mCOT8Q5K.js";const ee={class:"py-8"},te={class:"mx-auto max-w-5xl sm:px-6 lg:px-8"},se={class:"overflow-hidden rounded-2xl bg-white shadow-lg ring-1 ring-gray-900/5"},oe={class:"p-6"},ae={class:"mb-6 flex items-center justify-between"},ne={class:"text-xl font-bold text-gray-900"},re={class:"mt-1 text-sm text-gray-500"},le={class:"flex items-center gap-3"},ie=["disabled"],de={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},ue={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},ce={class:"border-b border-gray-200"},me={class:"-mb-px flex flex-wrap gap-1"},fe=["onClick"],ge={class:"mt-6 space-y-4"},xe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},ve={class:"mt-1 block text-sm font-semibold text-gray-900"},pe={class:"mt-1 block text-sm font-semibold text-gray-900"},be={class:"mt-1 block text-sm font-semibold text-gray-900"},ye={class:"mt-1 block text-sm font-semibold text-gray-900"},Ae={class:"mt-1 block text-sm font-semibold text-gray-900"},ke={key:0},he={class:"mt-1 block text-sm font-semibold text-gray-900"},Ie={key:0},_e={class:"mt-1 text-sm text-gray-700"},Ne={class:"mt-6"},Ce={key:0,class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},De={class:"block text-xs font-medium text-gray-500"},Ee={class:"mt-1 block text-sm font-semibold text-gray-900"},Oe={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},we={class:"mt-6 space-y-6"},Me={class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Te={class:"block text-xs font-medium text-gray-500"},Le={class:"mt-1 block text-sm font-semibold text-gray-900"},Se={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Fe={class:"block text-xs font-medium text-gray-500"},Ve={class:"mt-1 block text-sm font-semibold text-gray-900"},Re={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},je={class:"mt-6"},Ue={key:0,class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Pe={class:"block text-xs font-medium text-gray-500"},Be={class:"mt-1 block text-sm font-semibold text-gray-900"},ze={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},He={class:"mt-6 space-y-6"},Ze={class:"mb-3 text-sm font-semibold text-brand-700"},$e={class:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"},Ge={class:"block text-xs font-medium text-gray-500"},Xe={class:"mt-1 block text-sm font-semibold text-gray-900"},Ke={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},Ye={__name:"Show",props:{avaliacao:Object,ifp:Object,profiler:Object,ancoras:Array,forcas:Array,niveis:Array,ancoraTipos:Array,virtudes:Array},setup(y){const u=y,x=T("geral"),B=[{key:"geral",label:"Geral"},{key:"ifp",label:"IFP"},{key:"profiler",label:"Profiler"},{key:"ancoras",label:"Âncoras"},{key:"forcas",label:"Forças Pessoais"}];function a(o,e,s){return o?o[e]??o[s]??null:null}function N(o){if(o==null||o==="")return"—";const e=parseFloat(o);return isNaN(e)?"—":e.toFixed(2).replace(".",",")}function w(o){if(!o)return"—";const e=new Date(o);return isNaN(e.getTime())?String(o):e.toLocaleDateString("pt-BR")}const L={ASSISTENCIA:"Assistência",INTRACEPCAO:"Intracepção",AFAGO:"Afago",DEFERENCIA:"Deferência",AFILIACAO:"Afiliação",DOMINANCIA:"Dominância",DESEMPENHO:"Desempenho",EXIBICAO:"Exibição",AGRESSAO:"Agressão",ORDEM:"Ordem",PERSISTENCIA:"Persistência",MUDANCA:"Mudança",AUTONOMIA:"Autonomia"},S={EXECUTOR:"Executor",PLANEJADOR:"Planejador",ANALISTA:"Analista",COMUNICADOR:"Comunicador"},F={ENERGIA_NIVEL_ID:"Energia",EXIGENCIA_MEIO_NIVEL_ID:"Exigência do Meio",APROVEITAMENTO_NIVEL_ID:"Aproveitamento",AUTOCONFIANCA_NIVEL_ID:"Autoconfiança",AUTOESTIMA_NIVEL_ID:"Autoestima",FLEXIBILIDADE_NIVEL_ID:"Flexibilidade",AMPLITUDE_NIVEL_ID:"Amplitude",AUTOMOTIVACAO_NIVEL_ID:"Automotivação",INCITABILIDADE_NIVEL_ID:"Incitabilidade"};function z(o){if(!o)return"—";const e=u.niveis?.find(s=>(s.ID??s.id)==o);return e?e.DESCRICAO??e.descricao:"—"}function H(o){const e=u.ancoras?.find(s=>(s.ANCORA_TIPO_ID??s.ancora_tipo_id)==o);return e?N(e.VALOR??e.valor):"—"}function Z(o){const e=u.forcas?.find(s=>(s.FORCA_ID??s.forca_id)==o);return e?N(e.VALOR??e.valor):"—"}const $=Q(),r=g(()=>u.avaliacao),V=g(()=>a(r.value,"STATUS","status")==="RASCUNHO"),k=g(()=>V.value||$.props.auth.user.role==="RH"),G=Object.keys(L),X=[...Object.keys(S),...Object.keys(F)],R=g(()=>u.ifp?G.filter(o=>{const e=a(u.ifp,o,o.toLowerCase());return e!=null&&e!==""}).length:0),j=g(()=>u.profiler?X.filter(o=>{const e=a(u.profiler,o,o.toLowerCase());return e!=null&&e!==""}).length:0),U=g(()=>u.ancoras?.length??0),P=g(()=>u.forcas?.length??0),M=g(()=>({ifp:R.value,profiler:j.value,ancoras:U.value,forcas:P.value})),C=T(!1),D=T(!1);function K(){C.value=!0,J.patch(route("avaliacoes.finalizar",a(r.value,"ID","id")),{},{onFinish:()=>{C.value=!1,D.value=!1}})}return(o,e)=>(n(),i(m,null,[E(v(q),{title:`Avaliação #${a(r.value,"ID","id")}`},null,8,["title"]),E(W,null,{default:p(()=>[t("div",ee,[t("div",te,[t("div",se,[e[29]||(e[29]=t("div",{class:"h-1.5 bg-gradient-to-r from-brand-600 via-brand-500 to-brand-700"},null,-1)),t("div",oe,[t("div",ae,[t("div",null,[t("h2",ne," Avaliação #"+l(a(r.value,"ID","id")),1),t("p",re,l(a(r.value,"NOMFUN","nomfun"))+" — Matrícula "+l(a(r.value,"NUMCAD","numcad")),1)]),t("div",le,[t("span",{class:O(["inline-flex rounded-full px-3 py-1 text-xs font-semibold",a(r.value,"STATUS","status")==="FINALIZADA"?"bg-green-50 text-green-700 ring-1 ring-green-600/20":"bg-amber-50 text-amber-700 ring-1 ring-amber-600/20"])},l(a(r.value,"STATUS","status")),3),k.value?(n(),h(v(A),{key:0,href:o.route("avaliacoes.edit",a(r.value,"ID","id")),class:"inline-flex items-center gap-1.5 rounded-lg border border-brand-300 bg-white px-4 py-2 text-sm font-semibold text-brand-700 shadow-sm hover:bg-brand-50 transition"},{default:p(()=>[...e[2]||(e[2]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z"})],-1),f(" Editar ",-1)])]),_:1},8,["href"])):c("",!0),V.value?(n(),i("button",{key:1,type:"button",onClick:e[0]||(e[0]=s=>D.value=!0),disabled:C.value,class:"inline-flex items-center gap-1.5 rounded-lg bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 disabled:opacity-50 transition"},[C.value?(n(),i("svg",de,[...e[3]||(e[3]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):(n(),i("svg",ue,[...e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"},null,-1)])])),e[5]||(e[5]=f(" Finalizar ",-1))],8,ie)):c("",!0),E(v(A),{href:o.route("avaliacoes.index"),class:"inline-flex items-center gap-1.5 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition"},{default:p(()=>[...e[6]||(e[6]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})],-1),f(" Voltar ",-1)])]),_:1},8,["href"])])]),t("div",ce,[t("nav",me,[(n(),i(m,null,b(B,s=>t("button",{key:s.key,type:"button",onClick:d=>x.value=s.key,class:O(["inline-flex items-center gap-1.5 rounded-t-lg px-4 py-2.5 text-sm font-semibold transition",x.value===s.key?"border-b-2 border-brand-600 text-brand-600 bg-brand-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])},[f(l(s.label)+" ",1),s.key!=="geral"&&M.value[s.key]!==void 0?(n(),i("span",{key:0,class:O(["inline-flex h-5 min-w-[1.25rem] items-center justify-center rounded-full px-1 text-[10px] font-bold",M.value[s.key]>0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-400"])},l(M.value[s.key]),3)):c("",!0)],10,fe)),64))])]),I(t("div",ge,[t("div",xe,[t("div",null,[e[7]||(e[7]=t("span",{class:"block text-xs font-medium text-gray-500"},"Colaborador",-1)),t("span",ve,l(a(r.value,"NOMFUN","nomfun")),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"block text-xs font-medium text-gray-500"},"Matrícula",-1)),t("span",pe,l(a(r.value,"NUMCAD","numcad")),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"block text-xs font-medium text-gray-500"},"Data da Avaliação",-1)),t("span",be,l(w(a(r.value,"DATA_AVALIACAO","data_avaliacao"))),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"block text-xs font-medium text-gray-500"},"Status",-1)),t("span",{class:O(["mt-1 inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold",a(r.value,"STATUS","status")==="FINALIZADA"?"bg-green-50 text-green-700 ring-1 ring-green-600/20":"bg-amber-50 text-amber-700 ring-1 ring-amber-600/20"])},l(a(r.value,"STATUS","status")),3)]),t("div",null,[e[11]||(e[11]=t("span",{class:"block text-xs font-medium text-gray-500"},"Criado em",-1)),t("span",ye,l(w(a(r.value,"CREATED_AT","created_at"))),1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"block text-xs font-medium text-gray-500"},"Avaliador",-1)),t("span",Ae,l(a(r.value,"AVALIADOR_NOME","avaliador_nome")??"—"),1)]),a(r.value,"STATUS","status")==="FINALIZADA"&&a(r.value,"FINALIZADO_EM","finalizado_em")?(n(),i("div",ke,[e[13]||(e[13]=t("span",{class:"block text-xs font-medium text-gray-500"},"Finalizado em",-1)),t("span",he,l(w(a(r.value,"FINALIZADO_EM","finalizado_em"))),1)])):c("",!0)]),a(r.value,"OBSERVACAO","observacao")?(n(),i("div",Ie,[e[14]||(e[14]=t("span",{class:"block text-xs font-medium text-gray-500"},"Observação",-1)),t("p",_e,l(a(r.value,"OBSERVACAO","observacao")),1)])):c("",!0)],512),[[_,x.value==="geral"]]),I(t("div",Ne,[R.value>0?(n(),i("div",Ce,[(n(),i(m,null,b(L,(s,d)=>t("div",{key:d},[t("span",De,l(s),1),t("span",Ee,l(N(a(y.ifp,d,d.toLowerCase()))),1)])),64))])):(n(),i("div",Oe,[e[16]||(e[16]=t("svg",{class:"h-10 w-10 text-gray-300",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12H9.75m0 0 2.25 2.25M9.75 15l2.25-2.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e[17]||(e[17]=t("p",{class:"mt-3 text-sm font-medium text-gray-400"},"Nenhum dado preenchido nesta seção.",-1)),k.value?(n(),h(v(A),{key:0,href:o.route("avaliacoes.edit",a(r.value,"ID","id")),class:"mt-2 text-sm font-semibold text-brand-600 hover:text-brand-700"},{default:p(()=>[...e[15]||(e[15]=[f("Preencher agora",-1)])]),_:1},8,["href"])):c("",!0)]))],512),[[_,x.value==="ifp"]]),I(t("div",we,[j.value>0?(n(),i(m,{key:0},[t("div",null,[e[18]||(e[18]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-800"},"Perfis (%)",-1)),t("div",Me,[(n(),i(m,null,b(S,(s,d)=>t("div",{key:d},[t("span",Te,l(s),1),t("span",Le,l(N(a(y.profiler,d,d.toLowerCase())))+" % ",1)])),64))])]),t("div",null,[e[19]||(e[19]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-800"},"Indicadores de Nível",-1)),t("div",Se,[(n(),i(m,null,b(F,(s,d)=>t("div",{key:d},[t("span",Fe,l(s),1),t("span",Ve,l(z(a(y.profiler,d,d.toLowerCase()))),1)])),64))])])],64)):(n(),i("div",Re,[e[21]||(e[21]=t("svg",{class:"h-10 w-10 text-gray-300",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12H9.75m0 0 2.25 2.25M9.75 15l2.25-2.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e[22]||(e[22]=t("p",{class:"mt-3 text-sm font-medium text-gray-400"},"Nenhum dado preenchido nesta seção.",-1)),k.value?(n(),h(v(A),{key:0,href:o.route("avaliacoes.edit",a(r.value,"ID","id")),class:"mt-2 text-sm font-semibold text-brand-600 hover:text-brand-700"},{default:p(()=>[...e[20]||(e[20]=[f("Preencher agora",-1)])]),_:1},8,["href"])):c("",!0)]))],512),[[_,x.value==="profiler"]]),I(t("div",je,[U.value>0?(n(),i("div",Ue,[(n(!0),i(m,null,b(y.ancoraTipos,s=>(n(),i("div",{key:s.ID??s.id},[t("span",Pe,l(s.NOME??s.nome),1),t("span",Be,l(H(s.ID??s.id)),1)]))),128))])):(n(),i("div",ze,[e[24]||(e[24]=t("svg",{class:"h-10 w-10 text-gray-300",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12H9.75m0 0 2.25 2.25M9.75 15l2.25-2.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e[25]||(e[25]=t("p",{class:"mt-3 text-sm font-medium text-gray-400"},"Nenhum dado preenchido nesta seção.",-1)),k.value?(n(),h(v(A),{key:0,href:o.route("avaliacoes.edit",a(r.value,"ID","id")),class:"mt-2 text-sm font-semibold text-brand-600 hover:text-brand-700"},{default:p(()=>[...e[23]||(e[23]=[f("Preencher agora",-1)])]),_:1},8,["href"])):c("",!0)]))],512),[[_,x.value==="ancoras"]]),I(t("div",He,[P.value>0?(n(!0),i(m,{key:0},b(y.virtudes,s=>(n(),i("div",{key:s.ID??s.id,class:"rounded-lg border border-gray-200 p-4"},[t("h3",Ze,l(s.NOME??s.nome),1),t("div",$e,[(n(!0),i(m,null,b(s.forcas,d=>(n(),i("div",{key:d.ID??d.id},[t("span",Ge,l(d.NOME??d.nome),1),t("span",Xe,l(Z(d.ID??d.id)),1)]))),128))])]))),128)):(n(),i("div",Ke,[e[27]||(e[27]=t("svg",{class:"h-10 w-10 text-gray-300",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12H9.75m0 0 2.25 2.25M9.75 15l2.25-2.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e[28]||(e[28]=t("p",{class:"mt-3 text-sm font-medium text-gray-400"},"Nenhum dado preenchido nesta seção.",-1)),k.value?(n(),h(v(A),{key:0,href:o.route("avaliacoes.edit",a(r.value,"ID","id")),class:"mt-2 text-sm font-semibold text-brand-600 hover:text-brand-700"},{default:p(()=>[...e[26]||(e[26]=[f("Preencher agora",-1)])]),_:1},8,["href"])):c("",!0)]))],512),[[_,x.value==="forcas"]])])])])]),E(Y,{show:D.value,title:"Finalizar avaliação",message:`Tem certeza que deseja finalizar a avaliação de ${a(r.value,"NOMFUN","nomfun")}? Após finalizada, apenas usuários com perfil Admin poderão editá-la.`,"confirm-label":"Sim, finalizar",variant:"success",onConfirm:K,onCancel:e[1]||(e[1]=s=>D.value=!1)},null,8,["show","message"])]),_:1})],64))}};export{Ye as default};
